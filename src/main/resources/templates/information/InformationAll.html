<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>

    <!--<meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>-->
    <title>title</title>
    <link rel="stylesheet" href="../css/layui.css" th:href="@{/css/layui.css}" />
    <link href="/bootstrap/css/bootstrap.min.css" th:href="@{/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
    <!--<link href="../../static/css/bootstrap-combined.min.css" th:href="@{/css/bootstrap-combined.min.css}" rel="stylesheet" type="text/css">-->
    <script src="../../static/js/jquery-3.3.1.min.js" th:src="@{/js/jquery-3.3.1.min.js}"></script>
    <style>
        body,html{
            position: relative;
            height: 100%;
        }
        body{
            background: url("/images/iamges/slider-bg.png") repeat-x;
            background-position: bottom left;
        }
        ul {
            list-style-type: none;
        }

        a {
            color: #009688;
            text-decoration: none;
        }
        li>a:hover{
            text-decoration: none;
        }
        #search{
            /*position: absolute;*/
            /*right: 250px;*/
            /*top: 120px;*/
            inline-size: 200px;
            block-size: 36px;
            display: inline-block;
        }
        #searchBut {
            /*position: absolute;*/
            /*right: 180px;*/
            /*top: 116px;*/
            /*block-size: 35px;*/
            /*border-radius: 30px;*/
            /*background-color: #01a252;*/
            /*color: white;*/
            /*display: inline-block;*/
            /*border:none;*/
            vertical-align: top;
        }
        .container-fluid{
            padding-top:70px;
        }
        .search-box{
           position: absolute;
           top:80px;
           right:20px;
        }
        #column{
            position: absolute;
            bottom: 0px;
            right: 0px;
        }
        .page{
            position: relative;
            min-height: 100%;
        }
        /*侧边栏*/
        ul{
            list-style: none;
        }
        li>a{
            text-decoration: none;
        }
        .aside-nav{
            padding: 60px 0px 60px 0px;
            width: 200px;
        }
        .aside-nav>li{
            border-left:none;
            margin-top:5px;
            /* height: 35px; */
            width: 100px;
        }
        .aside-nav>li a{
            display: block;
            height: 100%;
            background: no-repeat;
            text-align: left;
            padding-left:15px;
            /* line-height: 35px; */
            background-image:url("/images/iamges/border.png");
            padding:7px 15px 7px 15px;
            background-color: #fff;
            color:#174867;
            font-size: 12px;
            border-left: 0px solid #CCCCCC;
            border-right: 1px solid #E3E3E3;
            border-bottom: 1px solid #E3E3E3;
            border-top: 1px solid #E3E3E3;
            box-shadow: 2px 2px 4px #EDEDED;
            transition: all .3s ease-out;

        }
        .aside-nav>li .active{
            width: 120px;
            color:#009688;
            background-color:#ebebeb;
            padding-left:25px;
        }
        .aside-nav>li a:hover{
            width: 120px;
            color:#009688;
            background-color:#ebebeb;
            padding-left:25px;
        }

        /*新闻资讯*/
        .newContainer{
            background-color: #fff;
            padding-bottom:20px;
            margin-top:70px;
            padding-top:30px;
            /* margin-left:40px; */
            overflow: hidden;
            /* box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04) */
        }
        .containerTitle{
            text-align: center;
            font-weight: 700;
            color:#3a405b;
            padding-bottom:30px;
        }
        .newList{
            text-align: center;
            background-color: #fff;
        }
        .new_item{
            display: flex;
            padding-bottom:10px;
            width: 740px;
            float: left;
            /*margin-left:20px;*/
            background-color: #fff;
            /*background: rgba(51,122,183,.8);*/
            border-bottom:1px solid #f4f4f4;
            cursor: pointer;
            transition: all .2s;
            padding-left:20px;
            padding-right:20px;
            padding-bottom:20px;
        }
        .new_item>a{
            display: flex;
            position: relative;
            width: 100%;
        }
        .new_item:hover{
            background-color: rgba(51,122,183,.3);
            color:#fff;
        }
        /*.newList li:first-of-type{*/
            /*border: none;*/
        /*}*/
        .item_time{
            /*margin-top:10px;*/
            margin-right:20px;
            width: 70px;
            font-size: 25px;
            padding-top: 20px;
            line-height: 24px;
        }
        .item_info_title{
            width: 400px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .item_info{
            text-align: left;
            /*display: inline-block;*/
            flex: 1;
        }
        .item_info:hover{
            color:#fff;
        }
        .title_logo{
            padding-right:25px;
        }
        .text{
            width: 100%;
            font-size: 18px;
            padding-left:25px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            color:#333;
            /*color:#fff;*/
        }
        .item_info_intro{
            color:#999999;
            /*color:#fff;*/
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
            overflow: hidden;
            letter-spacing: 1px;
        }
        .read{
            position: absolute;
            bottom:-10px;
            right: 10px;
            font-size: 12px;
        }


    </style>
</head>
<body>
<div class="page">
<div th:replace="top::html"></div>
awedfawefawqerfqwer
<!--搜索框-->
<div class="search-box">
    <input type="search" placeholder="搜索新闻标题" id="search" th:value="${keyword}" class="layui-input" autocomplete="off">
    <a id="listAll"><button type="button" id="searchBut" class="layui-btn" th:onclick="'javascript:listAll()'" >搜索</button></a>
</div>
<div class="container-fluid container">
    <div class="row-fluid row">
        <div class="span2 col-md-2">
            <input id="catagory" type="hidden"  th:value="${catagory}">
            <ul id="bar" class="aside-nav" th:style="'background:url('+@{/images/iamges/shad.png}+') no-repeat'">
                <li>
                    <a href="/information/showAllNotice" id="recommend" th:if="${catagory} ne 0" >全部新闻</a>
                    <a  id="recommend"  th:if="${catagory} eq 0">全部新闻</a>
                </li>
            </ul>
        </div>
        <div th:if="${informationList.size()} eq 0" align="center">
            <h1 style="color: #00a8c6">没有符合你要求的作品</h1>
        </div>

        <div class="span8 col-md-8" th:if="${informationList.size()} ne 0" >
            <div id="production" th:each="information : ${informationList}">

                <!--<div  style="margin-bottom: 30px;border: 10px solid #cccc;padding: 5px;padding-left: 20px;padding-right: 20px">-->

                    <!--<a style="font-size: 20px; font-family: cursive;" th:text="${information.title}" th:href="'/information/showOneInformation/'+${information.id}"></a>-->
                    <!--<span th:utext="${information.htmlContent}"></span>-->
                    <!--<span style="float:right;margin-right: 10px;margin-top: 8px" th:text="${#dates.format(information.createTime,'yyyy-MM-dd')}"></span>-->
                    <!--<br>-->

                <!--</div>-->
                <div class="newWrapper">
                    <ul class="newList">
                        <li class="new_item">
                            <a  th:href="'/information/showOneInformation/'+${information.id}">
                                <div class="item_time" th:text="${#dates.format(information.createTime,'MM-dd yyyy ')}"></div>
                                <div class="item_info">
                                    <h3 class="item_info_title" >
                                        <span class="title_logo" th:style="'background:url('+ @{/images/iamges/hot.gif}+') no-repeat'"></span>
                                        <span class="text" th:text="${information.title}"></span>
                                    </h3>
                                    <!--<p class="item_info_intro"  th:text="${information.Content}"></p>-->
                                </div>
                                <span class="read">阅读量：<span th:text="${information.readSize}"></span></span>
                            </a>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
        <div class="span2 col-md-2"></div>
    </div>
</div>
<div class="col-md-12 column " id="column" th:if="${informationList.size()} ne 0">
    <ul class="pagination pull-right">
        <li class="disabled" th:if="${pageIndex} eq '1'" ><a >首页</a></li>
        <li th:if="${pageIndex} ne '1'"><a th:href="'/information/showAllNotice?pageIndex=1'+'&&pageSize='+${pageSize}+'&&keyword'+${keyword}+'&&catagory'+${catagory}">首页</a></li>
        <li class="disabled" th:if="${pageIndex} le '1'"><a >上一页</a></li>
        <li th:if="${pageIndex} gt '1'"><a th:href="'/information/showAllNotice?pageIndex='+${pageIndex-1}+'&&pageSize='+${pageSize}+'&&keyword'+${keyword}+'&&catagory'+${catagory}">上一页</a></li>
        <li th:each="pageNo : ${#numbers.sequence(1, page.totalPages)}">
            <a th:if="${pageNo} eq ${pageIndex}" style="background-color: #b2b2b2;color: white" th:text="${pageNo}"></a>
            <a th:if="${pageNo} ne ${pageIndex} and ${pageNo} le ${pageIndex+2} and ${pageNo} ge ${pageIndex-2}" th:href="'/information/showAllNotice?pageIndex='+${pageNo}+'&&pageSize='+${pageSize}+'&&keyword'+${keyword}+'&&catagory'+${catagory}" th:text="${pageNo}"></a>
        </li>
        <li th:if="${pageIndex} lt ${page.getTotalPages()}"><a th:href="'/information/showAllNotice?pageIndex='+${pageIndex+1}+'&&pageSize='+${pageSize}+'&&keyword'+${keyword}+'&&catagory'+${catagory}">下一页</a></li>
        <li class="disabled" th:if="${pageIndex} ge ${page.getTotalPages()}"><a >下一页</a></li>
        <li class="disabled" th:if="${pageIndex} eq ${page.getTotalPages()}"><a >尾页</a></li>
        <li th:if="${pageIndex} ne ${page.getTotalPages()}"><a th:href="'/information/showAllNotice?pageIndex='+${page.getTotalPages()}+'&&pageSize='+${pageSize}+'&&keyword'+${keyword}+'&&catagory'+${catagory}">尾页</a></li>
    </ul>
</div>

</div>
<script type="text/javascript">
    $(function() {
        find1();
        open();
    });
    function find1() {
        $.ajax({
            type:"get",
            url:"/infCategory/allCatagorys",
            async: false,
            contentType:"application/json;charset=utf-8",
            data:{},
            success:function(datas){
                // $("#bar").html("");
                $(datas.data).each(
                    function(){
                        var ta = $("<li><a href='/information/showAllNotice?catagory="+this.id+"' id='cata"+this.id+"'>"+this.name+"</a></li>");
                        $("#bar").append.call($("#bar"),ta);
                    })
            },
            error : function(result) {
                $("#bar").html("无分类信息");
            }
        });
    }
    function open() {
        var v = document.getElementById("catagory").value;
        var obj = document.getElementById("cata"+v);
        var obj1 = $("#cata"+v);
        if(v == 0){
            $("#recommend").addClass("active");
        }
        obj1.css({
            "width": "120px",
            "color":"#009688",
            "background-color":"#ebebeb",
            "padding-left":"25px"
        })

        // obj.onclick="return false;";
    }

    function listAll(){
        var key = $("#search").val();
        var keyword = '/information/showAllNotice?keyword='+key;
        console.info(keyword);
        $("#listAll").attr("href",keyword);
    }
</script>

</body>
</html>